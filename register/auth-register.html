<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8" />
    <title>Unikit - Admin & Dashboard Template</title>
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta content="Premium Multipurpose Admin & Dashboard Template" name="description" />
    <meta content="" name="author" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />

    <!-- App favicon -->
    <link rel="shortcut icon" href="images/favicon.ico">

    <!-- App css -->
    <link href="css/bootstrap.min.css" rel="stylesheet" type="text/css" />
    <link href="css/icons.min.css" rel="stylesheet" type="text/css" />
    <link href="css/app.min.css" rel="stylesheet" type="text/css" />
</head>

<body id="body" class="auth-page" style="background-image: url('assets/images/p-1.png'); background-size: cover; background-position: center center;">
<!-- Registration page -->
<div class="container-md">
    <div class="row vh-100 d-flex justify-content-center">
        <div class="col-12 align-self-center">
            <div class="card-body">
                <div class="row">
                    <div class="col-lg-4 mx-auto">
                        <div class="card">
                            <div class="card-body p-0 auth-header-box">
                                <div class="text-center p-3">
                                    <a href="index.html" class="logo logo-admin">
                                        <img src="images/logo-sm.png" height="50" alt="logo" class="auth-logo">
                                    </a>
                                    <h4 class="mt-3 mb-1 fw-semibold text-white font-18">Let's Get Started Unikit</h4>
                                    <p class="text-muted mb-0">Sign up to continue to Unikit.</p>
                                </div>
                            </div>
                            <div class="card-body pt-0">
                                <form class="my-4" id="registrationForm">
                                    <div class="form-group mb-2">
                                        <label class="form-label" for="username">Username</label>
                                        <input type="text" class="form-control" id="username" name="username" placeholder="Enter username">
                                    </div><!--end form-group-->

                                    <div class="form-group mb-2">
                                        <label class="form-label" for="useremail">Email</label>
                                        <input type="email" class="form-control" id="useremail" name="useremail" placeholder="Enter email">
                                    </div><!--end form-group-->

                                    <div class="form-group mb-2">
                                        <label class="form-label" for="userpassword">Password</label>
                                        <input type="password" class="form-control" name="password" id="userpassword" placeholder="Enter password">
                                    </div><!--end form-group-->

                                    <div class="form-group mb-2">
                                        <label class="form-label" for="Confirmpassword">Confirm Password</label>
                                        <input type="password" class="form-control" name="confirmPassword" id="Confirmpassword" placeholder="Enter confirm password">
                                    </div><!--end form-group-->

                                    <div class="form-group mb-2">
                                        <label class="form-label" for="mobileNo">Mobile Number</label>
                                        <input type="text" class="form-control" id="mobileNo" name="mobileNo" placeholder="Enter mobile number">
                                    </div><!--end form-group-->

                                    <div class="form-group row mt-3">
                                        <div class="col-12">
                                            <div class="form-check form-switch form-switch-success">
                                                <input class="form-check-input" type="checkbox" id="customSwitchSuccess">
                                                <label class="form-check-label" for="customSwitchSuccess">
                                                    By registering you agree to the Unikit <a href="#" class="text-primary">Terms of Use</a>
                                                </label>
                                            </div>
                                        </div><!--end col-->
                                    </div><!--end form-group-->

                                    <div class="form-group mb-0 row">
                                        <div class="col-12">
                                            <div class="d-grid mt-3">
                                                <button class="btn btn-primary" type="button" id="registerButton">Register <i class="fas fa-sign-in-alt ms-1"></i></button>
                                            </div>
                                        </div><!--end col-->
                                    </div> <!--end form-group-->
                                </form><!--end form-->
                                <div class="m-3 text-center text-muted">
                                    <p class="mb-0">Already have an account? <a href="auth-login.html" class="text-primary ms-2">Log in</a></p>
                                </div>
                            </div><!--end card-body-->
                        </div><!--end card-->
                    </div><!--end col-->
                </div><!--end row-->
            </div><!--end card-body-->
        </div><!--end col-->
    </div><!--end row-->
</div><!--end container-->

<!-- Добавление JavaScript для отправки данных на сервер -->
<script>
    document.getElementById('registerButton').addEventListener('click', function () {
        // Собираем данные формы
        const username = document.getElementById('username').value;
        const email = document.getElementById('useremail').value;
        const password = document.getElementById('userpassword').value;
        const confirmPassword = document.getElementById('Confirmpassword').value;
        const mobileNo = document.getElementById('mobileNo').value;

        // Проверка на совпадение паролей
        if (password !== confirmPassword) {
            alert("Passwords do not match");
            return;
        }

        // Создаем объект данных
        const data = {
            username: username,
            email: email,
            password: password,
            mobileNo: mobileNo
        };

        // Отправляем данные на сервер через fetch
        fetch('http://localhost:8080/user/signup', {  // URL замените на свой
            method: 'POST',
            headers: {
                'Content-Type': 'application/json',  // Указываем, что отправляем JSON
            },
            body: JSON.stringify(data)  // Преобразуем объект в JSON
        })
            .then(response => response.json())  // Получаем JSON-ответ
            .then(result => {
                console.log(result);  // Выводим ответ сервера в консоль
                if (result.success) {
                    // Если регистрация успешна
                    alert('Registration successful!');
                    // Можно сделать редирект на страницу логина или другие действия
                } else {
                    // Если регистрация не успешна
                    alert('Registration failed: ' + result.message);
                }
            })
            .catch(error => {
                console.error('Error:', error);
                alert('An error occurred during registration');
            });
    });
</script>

<!-- App js -->
<script src="assets/js/app.js"></script>
</body>

</html>
